<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,minimum-scale=1,initial-scale=1"
    />
    <title>MDC Print rollup</title>
  </head>
  <body>
    <button type="button" id="PrintButton">The MDC print button</button>

    <!-- <script type="module"> -->
    <script type="module">
      let pdf_data = {
        filename: "output.pdf",
        cols: 4,
        header_text: "The header\nText",
        footer_text: "The footer\nText",
        items: [
          {
            image_url:
              "https://image.digitalcollections.manchester.ac.uk/iiif/PR-INCU-18313-000-00001.jp2/full/,150/0/default.jpg",
            image_text: "Line 1\nLine 2\nLine 3",
            width: 6000,
            height: 4500,
          },
          {
            image_url:
              "https://image.digitalcollections.manchester.ac.uk/iiif/PR-INCU-18313-000-00002.jp2/full/,150/0/default.jpg",
            image_text: "Line 1\nLine 2\nLine 3",
            width: 6000,
            height: 4500,
          },
          {
            image_url:
              "https://image.digitalcollections.manchester.ac.uk/iiif/PR-INCU-18313-000-00003.jp2/full/,150/0/default.jpg",
            image_text: "Line 1\nLine 2\nLine 3",
            width: 4500,
            height: 5000,
          },
        ],
      };

      // import the pdf generator
      import { printpage } from "./js/main.min.js";

      // declare some callbacks (could be done inline)
      function progressCallback(label, progress) {
        console.log(label, progress);
      }
      function completedCallback() {
        console.log("pdf complete");
      }

      // print button event
      document
        .querySelector("#PrintButton")
        .addEventListener("click", () =>
          printpage(pdf_data, progressCallback, completedCallback)
        );
    </script>
  </body>
</html>
